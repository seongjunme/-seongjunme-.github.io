{
    "componentChunkName": "component---src-templates-post-tsx",
    "path": "/í¬íŠ¸í´ë¦¬ì˜¤ì‚¬ì´íŠ¸/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3><a href=\"https://github.com/seongjunme/my-blog\" target=\"_blank\" rel=\"nofollow\">í”„ë¡œì íŠ¸ repository ë°”ë¡œê°€ê¸°</a></h3>\n<hr>\n<h2>ğŸ–¥ í”„ë¡œì íŠ¸ ì†Œê°œ</h2>\n<p>í‰ì†Œì— êµ¬í˜„í•´ë³´ê³  ì‹¶ì—ˆë˜ Full Pageì˜ ê¸°ëŠ¥ì„ ì¤‘ì ìœ¼ë¡œ</p>\n<p>í¬íŠ¸í´ë¦¬ì˜¤ì™€ ì‘ì„±í•œ ë¸”ë¡œê·¸ë“¤ì„ ì •ë¦¬í•˜ê¸° ìœ„í•œ ì‚¬ì´íŠ¸</p>\n<h2>ğŸ“š ê¸°ìˆ  ìŠ¤íƒ</h2>\n<ul>\n<li>\n<p>React (hooks)</p>\n</li>\n<li>\n<p>TypeScript</p>\n</li>\n<li>\n<p>Emotion</p>\n</li>\n<li>\n<p>Gatsby</p>\n</li>\n<li>\n<p>Graphql</p>\n</li>\n</ul>\n<h2>ğŸ›  ì£¼ìš” ê¸°ëŠ¥</h2>\n<ul>\n<li>Gatsbyë¥¼ ì´ìš©í•œ ë¸”ë¡œê·¸</li>\n<li>Full Page ì‚¬ì´íŠ¸</li>\n<li>ë¬´í•œ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥</li>\n<li>ë°˜ì‘í˜• UI êµ¬í˜„</li>\n</ul>\n<h2>ğŸ‘ ê¸°ìˆ  íŠ¹ì¥ì </h2>\n<p>1ï¸âƒ£ Graphqlì„ ì´ìš©í•œ Markdown ë°ì´í„° ìš”ì²­ <br>\n2ï¸âƒ£ Gatsbyì˜ slug ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ í•´ë‹¹ Markdown ê²Œì‹œê¸€ê³¼ ì—°ë™ <br>\n3ï¸âƒ£ Full Page êµ¬í˜„ <br>\n4ï¸âƒ£ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„ <br>\n5ï¸âƒ£ Fullpage íƒœë¸”ë¦¿ &#x26; ëª¨ë°”ì¼ í™˜ê²½ í˜¸í™˜ <br></p>\n<h3>1ï¸âƒ£ Graphqlì„ ì´ìš©í•œ Markdown ë°ì´í„° ìš”ì²­</h3>\n<p>Gatsbyì—ì„œ ì œê³µí•´ì£¼ëŠ” Graphqlì„ ì´ìš©í•˜ì—¬ Markdown ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì–»ê³ , ì´ë¥¼ htmlë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.\nì´ë¥¼ ìœ„í•´ì„œëŠ” ë¨¼ì € ë‘ ê°€ì§€ í”ŒëŸ¬ê·¸ì¸ì´ í•„ìš”í•˜ë‹¤.</p>\n<ul>\n<li>gatsby-source-filesystem</li>\n<li>gatsby-transformer-remark</li>\n</ul>\n<p>í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•œ í›„ gatsby-configì— ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ì¤€ë‹¤.</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\"  >\n          <code slot=\"code\">// gatsby-config.js\nmodule.exports = {\n  plugins: [\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        name: `contents`,\n        path: `${__dirname}/contents`,\n      },\n    },\n    {\n      resolve: `gatsby-transformer-remark`,\n      options: {\n        plugins: [...],\n      },\n    }\n  ],\n};\n</code>\n        </deckgo-highlight-code>\n<h4><strong>gatsby-source-filesystem</strong></h4>\n<p>ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œì˜ íŒŒì¼ì„ File ë…¸ë“œë¡œ ìƒì„±í•˜ì—¬ graphqlì„ í†µí•´ ë°ì´í„°ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. <br />\në‹¨, ë§ˆí¬ë‹¤ìš´ì„ pathì— ì§€ì •í•œ ê²½ë¡œì— ì €ì¥í•´ì•¼í•œë‹¤.</p>\n<h4>gatsby-transformer-remark</h4>\n<p>ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ íŒŒì‹±í•˜ì—¬ MarkdownRemark ë…¸ë“œë¡œ ìƒì„±í•œë‹¤.\nìƒì„±ëœ ë…¸ë“œëŠ” graphqlì„ í†µí•´ ë°ì´í„°ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.</p>\n<br />\n<deckgo-highlight-code  terminal=\"carbon\"  >\n          <code slot=\"code\">query getMarkdownData {\n  allMarkdownRemark {\n    edges {\n      node {\n        html\n        id\n        frontmatter {\n          title,\n          summary,\n          ...\n        }\n      }\n    }\n  }\n}</code>\n        </deckgo-highlight-code>\n<br />\n<h3>2ï¸âƒ£ Gatsbyì˜ slug ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ í•´ë‹¹ Markdown ê²Œì‹œê¸€ê³¼ ì—°ë™</h3>\n<h4>slug ìƒì„±</h4>\n<p>ë§ˆí¬ë‹¤ìš´ ë°ì´í„°ì— slug í•„ë“œë¥¼ ì¶”ê°€í•˜ì—¬ í•´ë‹¹ ê²Œì‹œë¬¼ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ urlì„ ìƒì„±í•œë‹¤.</p>\n<p>í•´ë‹¹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  onCreateNodeë¼ëŠ” gatsbyì—ì„œ ì œê³µí•˜ëŠ” APIë¥¼ ì‚¬ìš©í•œë‹¤.</p>\n<br />\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\"  >\n          <code slot=\"code\">// gatsby-node.js\nexports.onCreateNode = ({ node, getNode, actions }) =&gt; {\n  const { createNodeField } = actions;\n\n  if (node.internal.type === `MarkdownRemark`) {\n    const slug = createFilePath({ node, getNode });\n\n    createNodeField({ node, name: &#39;slug&#39;, value: slug });\n  }\n};</code>\n        </deckgo-highlight-code>\n<br />\në§ˆí¬ë‹¤ìš´ ë°ì´í„°ì— í•œí•´ì„œ slug í•„ë“œë¥¼ ì¶”ê°€í•œë‹¤.\nê·¸ë¦¬ê³  slugë°ì´í„°ëŠ” ê²½ë¡œì™€ íŒŒì¼ëª…ì„ ì¡°í•©í•´ ìƒì„±ëœë‹¤.\n<p>ex) contents/ShallWeSound.md -> domain/ShallWeSound</p>\n<h4>slugë¥¼ ì´ìš©í•´ í˜ì´ì§€ ìƒì„±</h4>\n<p>ë§ˆí¬ë‹¤ìš´ ë°ì´í„°ë¥¼ ì´ìš©í•´ slugë¥¼ ìƒì„±í•´ì£¼ì—ˆìœ¼ë‹ˆ, ì´ì œëŠ” ì´ slugë¥¼ ì´ìš©í•´ ì ‘ê·¼í•  í˜ì´ì§€ë¥¼ ìƒì„±í•œë‹¤.\ní˜ì´ì§€ ìƒì„±ì€ gatsbyì˜ createPages APIë¥¼ ì´ìš©í•œë‹¤.</p>\n<br />\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\"  >\n          <code slot=\"code\">// gatsby-node.js\nexports.createPages = async ({ actions, graphql, reporter }) =&gt; {\n  const { createPage } = actions;\n\n  const queryAllMarkdownData = await graphql(\n    `\n      {\n        allMarkdownRemark {\n          edges {\n            node {\n              fields {\n                slug\n              }\n            }\n          }\n        }\n      }\n    `,\n  );\n\n  if (queryAllMarkdownData.errors) {\n    reporter.panicOnBuild(`Query Error`);\n    return;\n  }\n\n  const PostTemplateComponent = path.resolve(__dirname, &#39;src/templates/post.tsx&#39;);\n\n  const generatePostPage = ({\n    node: {\n      fields: { slug },\n    },\n  }) =&gt; {\n    const pageOptions = {\n      path: slug,\n      component: PostTemplateComponent,\n      context: { slug },\n    };\n\n    createPage(pageOptions);\n  };\n\n  queryAllMarkdownData.data.allMarkdownRemark.edges.forEach(generatePostPage);\n};</code>\n        </deckgo-highlight-code>\n<br />\n<p>template í´ë”ì— post.tsxë¡œ ê²Œì‹œê¸€ í˜ì´ì§€ì˜ í…œí”Œë¦¿ì„ ì •ì˜í•œë‹¤.\nê·¸ë¦¬ê³  ê·¸ í…œí”Œë¦¿ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.</p>\n<p>ë‹¤ìŒìœ¼ë¡œ pageOtionsì„ ì •ì˜í•˜ê³ , ì‹¤ì œë¡œ í˜ì´ì§€ë¥¼ ìƒì„±í•´ì¤„ generatePostPage í•¨ìˆ˜ë¥¼ ì •ì˜í•œë‹¤.\nì—¬ê¸°ì„œ pathëŠ” í˜ì´ì§€ì˜ ê²½ë¡œë¥¼ ë‚˜íƒ€ë‚´ê³ , componentëŠ” ê²Œì‹œê¸€ì„ ë Œë”ë§í•  ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤.\në§ˆì§€ë§‰ìœ¼ë¡œ contextëŠ” ë°”ë¡œ ì•ì„œ ì •ì˜í•œ componentì— propsë¡œ ë„˜ê²¨ì¤„ ìˆ˜ ìˆëŠ” ê°’ì´ë‹¤.\nì´ slugë¥¼ í†µí•´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë§ëŠ” ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œë¥¼ ì°¾ì•„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.</p>\n<p>ê·¸ë¦¬ê³  graphqlì„ í†µí•´ ë¶ˆëŸ¬ì˜¨ queryAllMarkdownData ê°’ì—ì„œ markdown ë°ì´í„°ê°€ ë“¤ì–´ìˆëŠ” edgesë¥¼ ë°˜ë³µí•˜ì—¬ í˜ì´ì§€ ìƒì„± í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ ì¤€ë‹¤.</p>\n<h3>3ï¸âƒ£ Full Page êµ¬í˜„</h3>\n<h4>useFullPageë¼ëŠ” ì»¤ìŠ¤í…€ í›…ì„ ìƒì„± - index.tsx</h4>\n<ul>\n<li>ë°˜í™˜ ê°’ìœ¼ë¡œëŠ”\n<ul>\n<li>ìµœìƒë‹¨ì„ ì§€ì •í•˜ê¸° ìœ„í•œ outerRef</li>\n<li>í˜„ì¬ ë¶€ë¶„(í˜ì´ì§€)ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ currentPageName</li>\n<li>full page ìƒë‹¨ì˜ navBarë¥¼ í´ë¦­í–ˆì„ ë•Œì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ onClickNavBar</li>\n</ul>\n</li>\n</ul>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\"  >\n          <code slot=\"code\">// index.tsx\nconst Index: React.FC = () =&gt; {\n  const [outerRef, currentPageName, onClickNavBar] = useFullPage({ maxPageCount: 3 });\n\n  return (\n    &lt;Background ref={outerRef} className=&quot;outer&quot;&gt;\n      &lt;NavBar currentPageName={currentPageName} onClickNavBar={onClickNavBar} /&gt;\n      &lt;About /&gt;\n      &lt;PostList /&gt;\n      &lt;PostList /&gt;\n      &lt;Contact /&gt;\n    &lt;/Background&gt;\n  );\n};</code>\n        </deckgo-highlight-code>\n<h4>useFullPage.tsx</h4>\n<ul>\n<li>ì¸ìë¡œ í˜ì´ì§€(íŒŒíŠ¸)ì˜ ìµœëŒ€ ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤.\n<ul>\n<li>í˜ì´ì§€ ìˆ˜ëŠ” 0ë¶€í„° ì‹œì‘</li>\n</ul>\n</li>\n<li>í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸ë¥¼ useRefë¡œ ê´€ë¦¬í•œë‹¤.\n<ul>\n<li>ë²ˆí˜¸ë¥¼ stateë¡œ ê´€ë¦¬í•˜ë©´ ìŠ¤í¬ë¡¤ì„ ì´ë™í•  ë•Œ, stateì˜ ìµœì‹ ê°’ì„ ì‚¬ìš©í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§„ë‹¤.</li>\n</ul>\n</li>\n</ul>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\"  >\n          <code slot=\"code\">// useFullPage.tsx\nconst PAGE_NAMES = [&#39;About&#39;, &#39;Project&#39;, &#39;Blog&#39;, &#39;Contact&#39;];\n\nconst useFullPage = ({ maxPageCount }: { maxPageCount: number }) =&gt; {\n  const outerRef = useRef&lt;any&gt;();\n  const currentPage = useRef(0);\n  const [currentPageName, setCurrentPageName] = useState(PAGE_NAMES[currentPage.current]);\n\n  ...\n}</code>\n        </deckgo-highlight-code>\n<h4>wheel ë™ì‘ì— ë”°ë¼ currentPageê°€ ê°€ë¦¬í‚¤ëŠ” ë¶€ë¶„ìœ¼ë¡œ ìŠ¤í¬ë¡¤ì„ ì´ë™ì‹œí‚¨ë‹¤.</h4>\n<ul>\n<li>ì´ë™ ì‹œí‚¤ëŠ” ê¸°ì¤€ì€ í˜„ì¬ í™”ë©´ í¬ê¸°(window.innerHeight)ì™€ currentPageê°€ ê°€ë¦¬í‚¤ëŠ” ê°’ì´ë‹¤.</li>\n<li>í˜„ì¬ í™”ë©´ í¬ê¸°ê°€ 720pxì´ê³  í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸ê°€ 0ì¼ ë•Œ topì€ 0ì´ë˜ê³ , í˜ì´ì§€ ë²ˆí˜¸ê°€ 1ì´ë©´ topì€ 720pxì´ ëœë‹¤.</li>\n<li>ì¦‰, 0~720pxì€ í˜ì´ì§€ 0ì´ ì°¨ì§€í•˜ê³ , 720px ~ 1440px ì€ í˜ì´ì§€ 1ì´ ì°¨ì§€í•œë‹¤ëŠ” ëœ»ì´ë‹¤.</li>\n</ul>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\"  >\n          <code slot=\"code\">// useFullPage.tsx\nconst useFullPage = ({ maxPageCount }: { maxPageCount: number }) =&gt; {\n  ...\n\n  const scrollToCurrentPage = () =&gt; {\n    outerRef.current.scrollTo({\n      top: window.innerHeight * currentPage.current,\n      left: 0,\n      behavior: &#39;smooth&#39;,\n    });\n  };\n\n  const scrollDown = () =&gt; {\n    currentPage.current += 1;\n    scrollToCurrentPage();\n    setCurrentPageName(PAGE_NAMES[currentPage.current]);\n  };\n\n  const scrollUp = () =&gt; {\n    currentPage.current -= 1;\n    scrollToCurrentPage();\n    setCurrentPageName(PAGE_NAMES[currentPage.current]);\n  };\n}</code>\n        </deckgo-highlight-code>\n<h4>outerRefì— ì´ë²¤íŠ¸ ë“±ë¡</h4>\n<ul>\n<li>deltaY ê°’ì„ í™•ì¸í•´, wheel ì´ë²¤íŠ¸ê°€ ìœ„ì¸ì§€, ì•„ë˜ì¸ì§€ êµ¬ë¶„í•˜ì—¬ ë™ì‘ì‹œí‚¨ë‹¤.</li>\n<li>debounceë¥¼ ì ìš©í•˜ì—¬ í•œë²ˆì— wheel ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì—°ì†ìœ¼ë¡œ ìˆ˜í–‰ë˜ì§€ ì•Šë„ë¡ í•œë‹¤.\n<ul>\n<li>ë§ˆìš°ìŠ¤ íœ ì˜ ê²½ìš° êµ‰ì¥íˆ ë¯¼ê°í•˜ê¸° ë•Œë¬¸ì— ì¡°ê¸ˆë§Œ ì›€ì§ì—¬ë„ ìˆ˜ì‹­ê°œì˜ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œë‹¤.</li>\n<li>ë”°ë¼ì„œ ìŠ¤í¬ë¡¤ í•œë²ˆìœ¼ë¡œ ì²« í˜ì´ì§€ì—ì„œ ë§ˆì§€ë§‰ í˜ì´ì§€ ê¹Œì§€ ë‚´ë ¤ê°€ëŠ” í˜„ìƒì´ ë°œìƒí–ˆê³ , ì´ë¥¼ debounceë¥¼ ì ìš©í•¨ìœ¼ë¡œì¨ í•´ê²°í•˜ì˜€ë‹¤.</li>\n</ul>\n</li>\n</ul>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\"  >\n          <code slot=\"code\">// useFullPage.tsx\nconst useFullPage = ({ maxPageCount }: { maxPageCount: number }) =&gt; {\n  ...\n\n  useEffect(() =&gt; {\n    const wheelHandler = debounce((e: WheelEvent) =&gt; {\n      e.preventDefault();\n\n      const { deltaY } = e;\n\n      if (deltaY &gt; 0 &amp;&amp; currentPage.current &lt; maxPageCount) {\n        scrollDown();\n      } else if (deltaY &lt; 0 &amp;&amp; currentPage.current &gt; 0) {\n        scrollUp();\n      }\n    }, 50);\n\n    outerRef.current?.addEventListener(&#39;wheel&#39;, wheelHandler);\n\n    return () =&gt; {\n      outerRef.current?.removeEventListener(&#39;wheel&#39;, wheelHandler);\n    };\n  }, []);\n}\n</code>\n        </deckgo-highlight-code>\n<br />\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\"  >\n          <code slot=\"code\">// debounce.ts\nconst debounce = (callback: (...arg: any) =&gt; void, delay: number) =&gt; {\n  let timer: NodeJS.Timeout;\n\n  return (...arg: any) =&gt; {\n    clearTimeout(timer);\n    timer = setTimeout(() =&gt; callback(...arg), delay);\n  };\n};\n\nexport default debounce;</code>\n        </deckgo-highlight-code>\n<h4>ë§ˆì§€ë§‰ìœ¼ë¡œ ë¸Œë¼ìš°ì € ì°½ì˜ í¬ê¸°ë¥¼ ë³€ê²½í•  ì‹œ, window.innerHeightë¥¼ ë‹¤ì‹œ ê³„ì‚°í•˜ì—¬ í•´ë‹¹ ê°’ì— ë§ê²Œ ìŠ¤í¬ë¡¤ì„ ì´ë™ì‹œì¼œì•¼ í•œë‹¤.</h4>\n<ul>\n<li>resize ì´ë²¤íŠ¸ ë°œìƒ ì‹œ, í˜„ì¬ í˜ì´ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤í¬ë¡¤ì„ ì´ë™ì‹œì¼œì£¼ëŠ” í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.</li>\n</ul>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\"  >\n          <code slot=\"code\">// useFullPage.tsx\nuseEffect(() =&gt; {\n  window.addEventListener(&#39;resize&#39;, scrollToCurrentPage);\n\n  return () =&gt; {\n    window.removeEventListener(&#39;resize&#39;, scrollToCurrentPage);\n  };\n});</code>\n        </deckgo-highlight-code>\n<br />\n<h3>4ï¸âƒ£ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„</h3>\n<h4>useInfiniteScroll ë¼ëŠ” ì»¤ìŠ¤í…€ í›…ì„ ìƒì„±í•˜ê³  ì‚¬ìš©</h4>\n<ul>\n<li>posts ë°°ì—´ê³¼, ì¹´í…Œê³ ë¦¬ì— ë”°ë¥¸ í•„í„°ë§ì„ ìœ„í•´ selectedCategoryë¥¼ ì¸ìë¡œ ë„˜ê²¨ì¤€ë‹¤.</li>\n<li>ë°˜í™˜ ê°’ìœ¼ë¡œëŠ” observeí•  Refì™€ postsì˜ ë¶€ë¶„ ë°°ì—´ì¸ postsByPage ë°°ì—´ì´ ë°˜í™˜ëœë‹¤.</li>\n</ul>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\"  >\n          <code slot=\"code\">const BlogList: React.FC&lt;Props&gt; = ({ posts, selectedCategory }) =&gt; {\n  const { targetRef, postsByPage } = useInfiniteScroll({ posts, selectedCategory });\n\n  return (\n    &lt;Wrapper ref={targetRef}&gt;\n      {postsByPage.map(\n        ({\n          node: {\n            id,\n            fields: { slug },\n            frontmatter,\n          },\n        }) =&gt; (\n          &lt;PostItem key={id} link={slug} {...frontmatter} /&gt;\n        ),\n      )}\n    &lt;/Wrapper&gt;\n  );\n};</code>\n        </deckgo-highlight-code>\n<br />\n<h4>useInfiniteScroll êµ¬í˜„</h4>\n<ul>\n<li>page ìƒíƒœì— ë”°ë¼ ë Œë”ë§í•  postì˜ ê°œìˆ˜ë¥¼ ì •í•œë‹¤.\n<ul>\n<li>page ê°’ì´ 1ì´ë©´ page(1) * POST_COUNT_BY_PAGE(9) = 9 ê°œì˜ postê°€ ë°˜í™˜ëœë‹¤.</li>\n</ul>\n</li>\n<li>IntersectionOberserverë¥¼ í™œìš©í•˜ì—¬ observe ì´ë²¤íŠ¸ ë°œìƒ ì‹œ pageë¥¼ 1ì¦ê°€ ì‹œí‚¨ë‹¤.\n<ul>\n<li>pageê°€ ì¦ê°€í•¨ì— ë”°ë¼ ìµœëŒ€ 9ê°œì˜ ìƒˆë¡œìš´ í¬ìŠ¤íŠ¸ê°€ ì¶”ê°€ë¡œ ë°˜í™˜ëœë‹¤.</li>\n</ul>\n</li>\n<li>observerê°€ targetRefì˜ childrenì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ ê´€ì°°í•˜ë„ë¡ í•œë‹¤.\n<ul>\n<li>ìŠ¤í¬ë¡¤ì„ ëê¹Œì§€ ë‚´ë ¤ì„œ ë§ˆì§€ë§‰ ìš”ì†Œê°€ ê´€ì°°ë˜ë©´ ë“±ë¡í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ìˆ˜í–‰í•œë‹¤.</li>\n</ul>\n</li>\n<li>observerë¥¼ ë§¤ë²ˆ disconnectí•˜ê³  ìƒˆë¡­ê²Œ observeë“±ë¡ì„ í•˜ëŠ” ì´ìœ ëŠ” ë§ˆì§€ë§‰ postê¹Œì§€ ë Œë”ë§í–ˆë‹¤ë©´ ë” ì´ìƒ observeí•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ë§¤ë²ˆ ëª¨ë“  postê°€ ì¶œë ¥ëë‹¤ë©´ observeë¥¼ ë“±ë¡í•˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•¨ì´ë‹¤.</li>\n<li>ë§ˆì§€ë§‰ìœ¼ë¡œ selectedCategoryê°€ ë³€ê²½ë˜ë©´ pageë¥¼ 1ë¡œ ì´ˆê¸°í™” í•´ì£¼ëŠ” ì‘ì—…ì„ í•œë‹¤.\n<ul>\n<li>ì´ˆê¸°í™” í•˜ì§€ ì•Šìœ¼ë©´ ì¹´í…Œê³ ë¦¬ê°€ ë°”ë€Œì–´ë„ pageê°€ ê·¸ëŒ€ë¡œ ìœ ì§€ ë˜ëŠ” í˜„ìƒì´ ë°œìƒí•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\"  >\n          <code slot=\"code\">// useInfiniteScroll.tsx\nimport { MutableRefObject, useState, useRef, useEffect, useMemo } from &#39;react&#39;;\nimport { PostListType } from &#39;types/post.types&#39;;\n\nconst POST_COUNT_BY_PAGE = 9;\n\nconst useInfiniteScroll = ({ posts, selectedCategory }: { posts: PostListType[], selectedCategory: string }) =&gt; {\n  const [page, setPage] = useState(1);\n  const targetRef: MutableRefObject&lt;HTMLDivElement | null&gt; = useRef &lt; HTMLDivElement &gt; null;\n\n  const filteredPosts = useMemo(\n    () =&gt;\n      posts.filter(\n        ({\n          node: {\n            frontmatter: { categories },\n          },\n        }) =&gt; selectedCategory === &#39;All&#39; || categories.includes(selectedCategory),\n      ),\n    [selectedCategory],\n  );\n\n  const observer = new IntersectionObserver(\n    (entries, observer) =&gt; {\n      if (!entries[0].isIntersecting) return;\n\n      setPage(prev =&gt; prev + 1);\n      observer.disconnect();\n    },\n    {\n      threshold: 1.0,\n    },\n  );\n\n  useEffect(() =&gt; setPage(1), [selectedCategory]);\n\n  useEffect(() =&gt; {\n    if (\n      !targetRef.current ||\n      page * POST_COUNT_BY_PAGE &gt;= filteredPosts.length ||\n      targetRef.current.children.length &lt;= 0\n    )\n      return;\n\n    observer.observe(targetRef.current.children[targetRef.current.children.length - 1]);\n  }, [page, selectedCategory]);\n\n  return {\n    targetRef,\n    postsByPage: filteredPosts.slice(0, page * POST_COUNT_BY_PAGE),\n  };\n};\n\nexport default useInfiniteScroll;</code>\n        </deckgo-highlight-code>\n<h3>5ï¸âƒ£ Fullpage íƒœë¸”ë¦¿ &#x26; ëª¨ë°”ì¼ í™˜ê²½ í˜¸í™˜</h3>\n<h4>í™”ë©´ ë†’ì´ ì§€ì • - 100vh</h4>\n<ul>\n<li>ëª¨ë°”ì¼ í™˜ê²½ì—ì„œì˜ 100vhëŠ” ë¸Œë¼ìš°ì € ìƒë‹¨ì˜ url ì˜ì—­ê³¼ í•˜ë‹¨ì˜ ë„¤ë¹„ê²Œì´ì…˜ ì˜ì—­ì„ í¬í•¨í•œë‹¤.</li>\n<li>ë”°ë¼ì„œ ë†’ì´ë¥¼ í™”ë©´ ê°€ë“ ì±„ìš°ë ¤ê³  100vhë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì‹¤ì œ í™”ë©´ë³´ë‹¤ ë†’ì´ê°€ í¬ê²Œ ì¡íˆëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</li>\n<li>ë”°ë¼ì„œ window.innerHeightë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ í™”ë©´ ë†’ì´ë¥¼ ê°€ì ¸ì˜¨ í›„ ì„¤ì •í•´ì¤€ë‹¤.</li>\n</ul>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\"  >\n          <code slot=\"code\">useEffect(() =&gt; {\n  const setScreenSize = () =&gt; {\n    const vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty(&#39;--vh&#39;, `${vh}px`);\n  };\n  setScreenSize();\n\n  window.addEventListener(&#39;resize&#39;, setScreenSize);\n\n  return () =&gt; {\n    window.removeEventListener(&#39;resize&#39;, setScreenSize);\n  };\n}, []);</code>\n        </deckgo-highlight-code>\n<ul>\n<li>\n<p>resize ì´ë²¤íŠ¸ ë°œìƒ ì‹œì— í™”ë©´ í¬ê¸°ê°€ ë³€ê²½ë˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•´ì¤€ë‹¤.</p>\n</li>\n<li>\n<p>â€“vhë³€ìˆ˜ì— ê³„ì‚°í•œ innerHeight ê°’ì„ ì €ì¥í•œ ë’¤ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.</p>\n</li>\n</ul>\n<deckgo-highlight-code language=\"css\" terminal=\"carbon\"  >\n          <code slot=\"code\">body {\n  height: calc(var(--vh, 1vh) * 100);\n}</code>\n        </deckgo-highlight-code>\n<ul>\n<li>\n<p>â€“vhê°€ ì¡´ì¬í•˜ë©´ ê·¸ ê°’ì„, ì•„ë‹ˆë©´ 1vhë¥¼ ì‚¬ìš©í•œë‹¤.</p>\n</li>\n<li>\n<p>ëª¨ë°”ì¼ì˜ ê²½ìš° ê°€ë¡œ, ì„¸ë¡œ ì „í™˜ì„ í•  ìˆ˜ ìˆë‹¤.</p>\n</li>\n<li>\n<p>ê°€ë¡œ, ì„¸ë¡œ ì „í™˜ ì‹œ resize ì´ë²¤íŠ¸ê°€ 2ë²ˆ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí–ˆë‹¤.</p>\n</li>\n<li>\n<p>ì´ ë¬¸ì œ ë•Œë¬¸ì— í™”ë©´ ë†’ì´ê°€ ì œëŒ€ë¡œ ì¡íˆì§€ ì•ŠëŠ” í˜„ìƒì´ ë°œìƒí–ˆê³  ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ debounceë¥¼ ì ìš©í•˜ì—¬ ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ë§Œ ìˆ˜í–‰í•˜ë„ë¡ í–ˆë‹¤.</p>\n</li>\n</ul>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\"  >\n          <code slot=\"code\">useEffect(() =&gt; {\n  const setScreenSize = debounce(() =&gt; {\n    const vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty(&#39;--vh&#39;, `${vh}px`);\n  }, 50);\n\n  setScreenSize();\n\n  window.addEventListener(&#39;resize&#39;, setScreenSize);\n\n  return () =&gt; {\n    window.removeEventListener(&#39;resize&#39;, setScreenSize);\n  };\n}, []);</code>\n        </deckgo-highlight-code>\n<h4>í„°ì¹˜ ì´ë²¤íŠ¸ ì ìš©</h4>\n<ul>\n<li>í˜„ì¬ Full Pageì˜ ê²½ìš° wheel ì´ë²¤íŠ¸ë§Œ ë“±ë¡ë˜ì–´ ìˆë‹¤.</li>\n<li>ëª¨ë°”ì¼ í™˜ê²½ì—ì„œëŠ” wheelë³´ë‹¤ëŠ” touchë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ê·¸ì— ë”°ë¥¸ ëŒ€ì•ˆì´ í•„ìš”í•˜ë‹¤.</li>\n<li>touchì˜ ë°©í–¥ì„ ì•Œê¸° ìœ„í•´ touchstartì˜ yì¢Œí‘œì™€ touchendì˜ yì¢Œí‘œë¥¼ ë¹„êµí•œë‹¤.</li>\n<li>touchstartì˜ yì¢Œí‘œê°€ ë” í¬ë‹¤ë©´ ì•„ë˜ì—ì„œ ìœ„ë¡œ ë“œë˜ê·¸í•œ ê²ƒì´ë¯€ë¡œ scollDown()ì„ ì‹¤í–‰í•œë‹¤.</li>\n<li>ë°˜ë‹¤ë¡œ touchendì˜ yì¢Œí‘œê°€ ë” í¬ë‹¤ë©´ ìœ„ì—ì„œ ì•„ë˜ë¡œ ë“œë˜ê·¸í•œ ê²ƒì´ë¯€ë¡œ scollUp()ì„ ì‹¤í–‰í•œë‹¤.</li>\n</ul>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\"  >\n          <code slot=\"code\">const touchStartY = useRef(0);\nconst touchEndY = useRef(0);\n\nuseEffect(() =&gt; {\n  const touchStartHandler = debounce((e: TouchEvent) =&gt; {\n    e.preventDefault();\n\n    touchStartY.current = e.changedTouches[0].clientY;\n  }, 50);\n\n  const touchEndHandler = debounce((e: TouchEvent) =&gt; {\n    e.preventDefault();\n\n    touchEndY.current = e.changedTouches[0].clientY;\n\n    if (touchStartY.current &lt; touchEndY.current &amp;&amp; currentPage.current &gt; 0) {\n      scrollUp();\n    } else if (touchStartY.current &gt; touchEndY.current &amp;&amp; currentPage.current &lt; maxPageCount) {\n      scrollDown();\n    }\n  }, 50);\n\n  outerRef.current?.addEventListener(&#39;touchstart&#39;, touchStartHandler);\n  outerRef.current?.addEventListener(&#39;touchend&#39;, touchEndHandler);\n\n  return () =&gt; {\n    outerRef.current?.removeEventListener(&#39;touchstart&#39;, touchStartHandler);\n    outerRef.current?.removeEventListener(&#39;touchend&#39;, touchEndHandler);\n  };\n}, []);</code>\n        </deckgo-highlight-code>\n<h4>scroll smooth-behavior</h4>\n<ul>\n<li>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ì˜ ë™ì‘í•œë‹¤.</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\"  >\n          <code slot=\"code\">outerRef.current?.scrollTo({\n  top: window.innerHeight * currentPage.current,\n  left: 0,\n  behavior: &#39;smooth&#39;,\n});</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>í•˜ì§€ë§Œ ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì— ë”°ë¼ì„œëŠ” smooth ë™ì‘ì´ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆë‹¤.</p>\n</li>\n<li>\n<p>ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì€ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤.</p>\n</li>\n</ul>\n<deckgo-highlight-code  terminal=\"carbon\"  >\n          <code slot=\"code\">npm install smoothscroll-polyfill --save</code>\n        </deckgo-highlight-code>\n<ul>\n<li>ê·¸ë¦¬ê³  ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.</li>\n</ul>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\"  >\n          <code slot=\"code\">import smoothscroll from &#39;smoothscroll-polyfill&#39;;\n\nsmoothscroll.polyfill();</code>\n        </deckgo-highlight-code>","frontmatter":{"title":"Gatsbyë¡œ ë§Œë“  í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ì´íŠ¸","summary":"Full Pageì˜ ê¸°ëŠ¥ì„ ì¤‘ì ìœ¼ë¡œ í¬íŠ¸í´ë¦¬ì˜¤ì™€ ì‘ì„±í•œ ë¸”ë¡œê·¸ë“¤ì„ ì •ë¦¬í•˜ê¸° ìœ„í•œ ì‚¬ì´íŠ¸","date":"2022.03.08.","categories":["React","Gatsby"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAgDBgn/xAAWAQEBAQAAAAAAAAAAAAAAAAAFAwT/2gAMAwEAAhADEAAAAc6oKmrcU3XFlN5P/8QAGhAAAgMBAQAAAAAAAAAAAAAAAgUDBAYBAP/aAAgBAQABBQLYrKFmTXlnF6V4pi11hsIyphMw52aUff/EACERAAICAQMFAQAAAAAAAAAAAAECAxEEABQhEiIxQXGh/9oACAEDAQE/AcmsVZoAkbbuCNWkYFnjQ9EhWPmg1qvfV1YHm9LgQqoG4yuAPUR/Tyfuv//EACARAAICAQMFAAAAAAAAAAAAAAECAxEhAAQxEyMkYdH/2gAIAQIBAT8B2ymboyGR/GlcqooKzZQFsXQDNi8nJ4rR3zknsQc+/mv/xAAlEAACAgEDBAEFAAAAAAAAAAACAwEEBRESEwAUI2EhBiJBUXH/2gAIAQEABj8Cxz2ZBIHespS0AC2b/PaFR2WZi1yIt9uTHGyqVfHHT2hXCuqB5CxGIxotyNj6dfmsS7JHVNCX2rSu6rzqW2CktxMVsXE+Ldys2Awqebp2K1EHYrGoaNlrGWXvqVhrMfYYxL5a3xwmW8ky2Eiw9GEfQCwRnfxkc6QJsJcsUBMYOjDmFiIakU/bGk9DIlIz8fMTp6/HqZj+TP76gRayIgF6RBlER4w99f/EABwQAQADAAIDAAAAAAAAAAAAAAEAESExQVGBsf/aAAgBAQABPyF9EvkD10q+LcKPcKOwJAsyC3EdJICleLmEgLLfLHJZHd9VCwncOpPb8Xzhwo0A6OF1AArfXBgT/9oADAMBAAIAAwAAABBI3//EABcRAQEBAQAAAAAAAAAAAAAAAAERITH/2gAIAQMBAT8Q2H2uKpLtlETUsJ4DhAIYQMoF6guf/8QAGREBAQADAQAAAAAAAAAAAAAAAREAITFB/9oACAECAQE/EIHVHEydTHGtCkBi7Lk19ZUu2VlSunP/xAAXEAEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAEBAAE/EJAdo1YD7LaLC6fiMGHram7agCSkfCRDxk0fAD+AgKCz4o1L7lyERUPRIg6BW4cYjK8CoBBIAP/Z"},"images":{"fallback":{"src":"/static/4668e12bd54d5b9fec0afef8d6a1780b/2c6c2/gatsby.jpg","srcSet":"/static/4668e12bd54d5b9fec0afef8d6a1780b/7394a/gatsby.jpg 78w,\n/static/4668e12bd54d5b9fec0afef8d6a1780b/7ebbd/gatsby.jpg 155w,\n/static/4668e12bd54d5b9fec0afef8d6a1780b/2c6c2/gatsby.jpg 310w","sizes":"(min-width: 310px) 310px, 100vw"},"sources":[{"srcSet":"/static/4668e12bd54d5b9fec0afef8d6a1780b/42371/gatsby.webp 78w,\n/static/4668e12bd54d5b9fec0afef8d6a1780b/a5c7f/gatsby.webp 155w,\n/static/4668e12bd54d5b9fec0afef8d6a1780b/ea16f/gatsby.webp 310w","type":"image/webp","sizes":"(min-width: 310px) 310px, 100vw"}]},"width":310,"height":163}}}}}}]}},"pageContext":{"slug":"/í¬íŠ¸í´ë¦¬ì˜¤ì‚¬ì´íŠ¸/"}},
    "staticQueryHashes": []}